<MudDialog>
    <DialogContent>
        <EditForm Model="@_model" OnValidSubmit="OnValidSubmit">
            <DataAnnotationsValidator />
            <MudCardContent>
                <MudExpansionPanels>
                    <MudExpansionPanel Text="Main Parameters">
                        <MudTextField Label="Server" @bind-Value="_model.Server" For="@(() => _model.Server)" ReadOnly="true" />
                        <MudTextField Label="Group" @bind-Value="_model.Group" For="@(() => _model.Group)" />
                    </MudExpansionPanel>

                    <MudExpansionPanel Text="Subject Parameters">
                        <MudTextField Label="Organization" @bind-Value="_model.Subject.Organization" For="@(() => _model.Subject.Organization)" />
                        <MudTextField Label="Locality" @bind-Value="_model.Subject.Locality" For="@(() => _model.Subject.Locality)" />
                        <MudTextField Label="State" @bind-Value="_model.Subject.State" For="@(() => _model.Subject.State)" />
                        <MudTextField Label="Country" @bind-Value="_model.Subject.Country" For="@(() => _model.Subject.Country)" />
                    </MudExpansionPanel>

                    <MudExpansionPanel Text="Installation Parameters">
                        <MudSelect T="string" Label="Host Registration Mode" @bind-Value="_model.InstallationMode" Dense="true">
                            <MudSelectItem Value=@("Automatic") />
                            <MudSelectItem Value=@("Manual") />
                        </MudSelect>
                    </MudExpansionPanel>
                </MudExpansionPanels>
            </MudCardContent>

            <MudCardActions>
                <MudButton ButtonType="ButtonType.Submit" Color="Color.Primary">Download Configuration</MudButton>
                <MudButton Color="Color.Secondary" OnClick="DownloadHost">Download Host</MudButton>
            </MudCardActions>
        </EditForm>
    </DialogContent>
</MudDialog>
