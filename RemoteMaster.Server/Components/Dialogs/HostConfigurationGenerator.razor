@inject NavigationManager NavigationManager
@inject IJSRuntime JSRuntime

<MudDialog>
    <DialogContent>
        <EditForm Model="@_model" OnValidSubmit="OnValidSubmit">
            <DataAnnotationsValidator />
            <MudCardContent>
                <MudExpansionPanels>
                    <MudExpansionPanel Text="Main Parameters">
                        <MudTextField Label="Server" @bind-Value="_model.Server" For="@(() => _model.Server)" ReadOnly="true" />
                        <MudTextField Label="Group" @bind-Value="_model.Group" For="@(() => _model.Group)" />
                    </MudExpansionPanel>

                    <MudExpansionPanel Text="Subject Parameters">
                        <MudTextField Label="Organization" @bind-Value="_model.Subject.Organization" For="@(() => _model.Subject.Organization)" />
                        <MudTextField Label="Locality" @bind-Value="_model.Subject.Locality" For="@(() => _model.Subject.Locality)" />
                        <MudTextField Label="State" @bind-Value="_model.Subject.State" For="@(() => _model.Subject.State)" />
                        <MudSelect T="string" Label="Country" @bind-Value="_model.Subject.Country" Dense="true">
                            <MudSelectItem Value=@("AF") /> <!-- Afghanistan -->
                            <MudSelectItem Value=@("AX") /> <!-- Åland Islands -->
                            <MudSelectItem Value=@("AL") /> <!-- Albania -->
                            <MudSelectItem Value=@("DZ") /> <!-- Algeria -->
                            <MudSelectItem Value=@("AS") /> <!-- American Samoa -->
                            <MudSelectItem Value=@("AD") /> <!-- Andorra -->
                            <MudSelectItem Value=@("AO") /> <!-- Angola -->
                            <MudSelectItem Value=@("AI") /> <!-- Anguilla -->
                            <MudSelectItem Value=@("AQ") /> <!-- Antarctica -->
                            <MudSelectItem Value=@("AG") /> <!-- Antigua and Barbuda -->
                            <MudSelectItem Value=@("AR") /> <!-- Argentina -->
                            <MudSelectItem Value=@("AM") /> <!-- Armenia -->
                            <MudSelectItem Value=@("AW") /> <!-- Aruba -->
                            <MudSelectItem Value=@("AU") /> <!-- Australia -->
                            <MudSelectItem Value=@("AT") /> <!-- Austria -->
                            <MudSelectItem Value=@("AZ") /> <!-- Azerbaijan -->
                            <MudSelectItem Value=@("BS") /> <!-- Bahamas -->
                            <MudSelectItem Value=@("BH") /> <!-- Bahrain -->
                            <MudSelectItem Value=@("BD") /> <!-- Bangladesh -->
                            <MudSelectItem Value=@("BB") /> <!-- Barbados -->
                            <MudSelectItem Value=@("BY") /> <!-- Belarus -->
                            <MudSelectItem Value=@("BE") /> <!-- Belgium -->
                            <MudSelectItem Value=@("BZ") /> <!-- Belize -->
                            <MudSelectItem Value=@("BJ") /> <!-- Benin -->
                            <MudSelectItem Value=@("BM") /> <!-- Bermuda -->
                            <MudSelectItem Value=@("BT") /> <!-- Bhutan -->
                            <MudSelectItem Value=@("BO") /> <!-- Bolivia -->
                            <MudSelectItem Value=@("BQ") /> <!-- Bonaire, Sint Eustatius and Saba -->
                            <MudSelectItem Value=@("BA") /> <!-- Bosnia and Herzegovina -->
                            <MudSelectItem Value=@("BW") /> <!-- Botswana -->
                            <MudSelectItem Value=@("BV") /> <!-- Bouvet Island -->
                            <MudSelectItem Value=@("BR") /> <!-- Brazil -->
                            <MudSelectItem Value=@("IO") /> <!-- British Indian Ocean Territory -->
                            <MudSelectItem Value=@("BN") /> <!-- Brunei Darussalam -->
                            <MudSelectItem Value=@("BG") /> <!-- Bulgaria -->
                            <MudSelectItem Value=@("BF") /> <!-- Burkina Faso -->
                            <MudSelectItem Value=@("BI") /> <!-- Burundi -->
                            <MudSelectItem Value=@("CV") /> <!-- Cabo Verde -->
                            <MudSelectItem Value=@("KH") /> <!-- Cambodia -->
                            <MudSelectItem Value=@("CM") /> <!-- Cameroon -->
                            <MudSelectItem Value=@("CA") /> <!-- Canada -->
                            <MudSelectItem Value=@("KY") /> <!-- Cayman Islands -->
                            <MudSelectItem Value=@("CF") /> <!-- Central African Republic -->
                            <MudSelectItem Value=@("TD") /> <!-- Chad -->
                            <MudSelectItem Value=@("CL") /> <!-- Chile -->
                            <MudSelectItem Value=@("CN") /> <!-- China -->
                            <MudSelectItem Value=@("CX") /> <!-- Christmas Island -->
                            <MudSelectItem Value=@("CC") /> <!-- Cocos (Keeling) Islands -->
                            <MudSelectItem Value=@("CO") /> <!-- Colombia -->
                            <MudSelectItem Value=@("KM") /> <!-- Comoros -->
                            <MudSelectItem Value=@("CG") /> <!-- Congo -->
                            <MudSelectItem Value=@("CD") /> <!-- Congo, Democratic Republic of the -->
                            <MudSelectItem Value=@("CK") /> <!-- Cook Islands -->
                            <MudSelectItem Value=@("CR") /> <!-- Costa Rica -->
                            <MudSelectItem Value=@("CI") /> <!-- Côte d'Ivoire -->
                            <MudSelectItem Value=@("HR") /> <!-- Croatia -->
                            <MudSelectItem Value=@("CU") /> <!-- Cuba -->
                            <MudSelectItem Value=@("CW") /> <!-- Curaçao -->
                            <MudSelectItem Value=@("CY") /> <!-- Cyprus -->
                            <MudSelectItem Value=@("CZ") /> <!-- Czechia -->
                            <MudSelectItem Value=@("DK") /> <!-- Denmark -->
                            <MudSelectItem Value=@("DJ") /> <!-- Djibouti -->
                            <MudSelectItem Value=@("DM") /> <!-- Dominica -->
                            <MudSelectItem Value=@("DO") /> <!-- Dominican Republic -->
                            <MudSelectItem Value=@("EC") /> <!-- Ecuador -->
                            <MudSelectItem Value=@("EG") /> <!-- Egypt -->
                            <MudSelectItem Value=@("SV") /> <!-- El Salvador -->
                            <MudSelectItem Value=@("GQ") /> <!-- Equatorial Guinea -->
                            <MudSelectItem Value=@("ER") /> <!-- Eritrea -->
                            <MudSelectItem Value=@("EE") /> <!-- Estonia -->
                            <MudSelectItem Value=@("SZ") /> <!-- Eswatini -->
                            <MudSelectItem Value=@("ET") /> <!-- Ethiopia -->
                            <MudSelectItem Value=@("FK") /> <!-- Falkland Islands (Malvinas) -->
                            <MudSelectItem Value=@("FO") /> <!-- Faroe Islands -->
                            <MudSelectItem Value=@("FJ") /> <!-- Fiji -->
                            <MudSelectItem Value=@("FI") /> <!-- Finland -->
                            <MudSelectItem Value=@("FR") /> <!-- France -->
                            <MudSelectItem Value=@("GF") /> <!-- French Guiana -->
                            <MudSelectItem Value=@("PF") /> <!-- French Polynesia -->
                            <MudSelectItem Value=@("TF") /> <!-- French Southern Territories -->
                            <MudSelectItem Value=@("GA") /> <!-- Gabon -->
                            <MudSelectItem Value=@("GM") /> <!-- Gambia -->
                            <MudSelectItem Value=@("GE") /> <!-- Georgia -->
                            <MudSelectItem Value=@("DE") /> <!-- Germany -->
                            <MudSelectItem Value=@("GH") /> <!-- Ghana -->
                            <MudSelectItem Value=@("GI") /> <!-- Gibraltar -->
                            <MudSelectItem Value=@("GR") /> <!-- Greece -->
                            <MudSelectItem Value=@("GL") /> <!-- Greenland -->
                            <MudSelectItem Value=@("GD") /> <!-- Grenada -->
                            <MudSelectItem Value=@("GP") /> <!-- Guadeloupe -->
                            <MudSelectItem Value=@("GU") /> <!-- Guam -->
                            <MudSelectItem Value=@("GT") /> <!-- Guatemala -->
                            <MudSelectItem Value=@("GG") /> <!-- Guernsey -->
                            <MudSelectItem Value=@("GN") /> <!-- Guinea -->
                            <MudSelectItem Value=@("GW") /> <!-- Guinea-Bissau -->
                            <MudSelectItem Value=@("GY") /> <!-- Guyana -->
                            <MudSelectItem Value=@("HT") /> <!-- Haiti -->
                            <MudSelectItem Value=@("HM") /> <!-- Heard Island and McDonald Islands -->
                            <MudSelectItem Value=@("VA") /> <!-- Holy See -->
                            <MudSelectItem Value=@("HN") /> <!-- Honduras -->
                            <MudSelectItem Value=@("HK") /> <!-- Hong Kong -->
                            <MudSelectItem Value=@("HU") /> <!-- Hungary -->
                            <MudSelectItem Value=@("IS") /> <!-- Iceland -->
                            <MudSelectItem Value=@("IN") /> <!-- India -->
                            <MudSelectItem Value=@("ID") /> <!-- Indonesia -->
                            <MudSelectItem Value=@("IR") /> <!-- Iran (Islamic Republic of) -->
                            <MudSelectItem Value=@("IQ") /> <!-- Iraq -->
                            <MudSelectItem Value=@("IE") /> <!-- Ireland -->
                            <MudSelectItem Value=@("IM") /> <!-- Isle of Man -->
                            <MudSelectItem Value=@("IL") /> <!-- Israel -->
                            <MudSelectItem Value=@("IT") /> <!-- Italy -->
                            <MudSelectItem Value=@("JM") /> <!-- Jamaica -->
                            <MudSelectItem Value=@("JP") /> <!-- Japan -->
                            <MudSelectItem Value=@("JE") /> <!-- Jersey -->
                            <MudSelectItem Value=@("JO") /> <!-- Jordan -->
                            <MudSelectItem Value=@("KZ") /> <!-- Kazakhstan -->
                            <MudSelectItem Value=@("KE") /> <!-- Kenya -->
                            <MudSelectItem Value=@("KI") /> <!-- Kiribati -->
                            <MudSelectItem Value=@("KP") /> <!-- Korea (Democratic People's Republic of) -->
                            <MudSelectItem Value=@("KR") /> <!-- Korea, Republic of -->
                            <MudSelectItem Value=@("KW") /> <!-- Kuwait -->
                            <MudSelectItem Value=@("KG") /> <!-- Kyrgyzstan -->
                            <MudSelectItem Value=@("LA") /> <!-- Lao People's Democratic Republic -->
                            <MudSelectItem Value=@("LV") /> <!-- Latvia -->
                            <MudSelectItem Value=@("LB") /> <!-- Lebanon -->
                            <MudSelectItem Value=@("LS") /> <!-- Lesotho -->
                            <MudSelectItem Value=@("LR") /> <!-- Liberia -->
                            <MudSelectItem Value=@("LY") /> <!-- Libya -->
                            <MudSelectItem Value=@("LI") /> <!-- Liechtenstein -->
                            <MudSelectItem Value=@("LT") /> <!-- Lithuania -->
                            <MudSelectItem Value=@("LU") /> <!-- Luxembourg -->
                            <MudSelectItem Value=@("MO") /> <!-- Macao -->
                            <MudSelectItem Value=@("MG") /> <!-- Madagascar -->
                            <MudSelectItem Value=@("MW") /> <!-- Malawi -->
                            <MudSelectItem Value=@("MY") /> <!-- Malaysia -->
                            <MudSelectItem Value=@("MV") /> <!-- Maldives -->
                            <MudSelectItem Value=@("ML") /> <!-- Mali -->
                            <MudSelectItem Value=@("MT") /> <!-- Malta -->
                            <MudSelectItem Value=@("MH") /> <!-- Marshall Islands -->
                            <MudSelectItem Value=@("MQ") /> <!-- Martinique -->
                            <MudSelectItem Value=@("MR") /> <!-- Mauritania -->
                            <MudSelectItem Value=@("MU") /> <!-- Mauritius -->
                            <MudSelectItem Value=@("YT") /> <!-- Mayotte -->
                            <MudSelectItem Value=@("MX") /> <!-- Mexico -->
                            <MudSelectItem Value=@("FM") /> <!-- Micronesia (Federated States of) -->
                            <MudSelectItem Value=@("MD") /> <!-- Moldova, Republic of -->
                            <MudSelectItem Value=@("MC") /> <!-- Monaco -->
                            <MudSelectItem Value=@("MN") /> <!-- Mongolia -->
                            <MudSelectItem Value=@("ME") /> <!-- Montenegro -->
                            <MudSelectItem Value=@("MS") /> <!-- Montserrat -->
                            <MudSelectItem Value=@("MA") /> <!-- Morocco -->
                            <MudSelectItem Value=@("MZ") /> <!-- Mozambique -->
                            <MudSelectItem Value=@("MM") /> <!-- Myanmar -->
                            <MudSelectItem Value=@("NA") /> <!-- Namibia -->
                            <MudSelectItem Value=@("NR") /> <!-- Nauru -->
                            <MudSelectItem Value=@("NP") /> <!-- Nepal -->
                            <MudSelectItem Value=@("NL") /> <!-- Netherlands -->
                            <MudSelectItem Value=@("NC") /> <!-- New Caledonia -->
                            <MudSelectItem Value=@("NZ") /> <!-- New Zealand -->
                            <MudSelectItem Value=@("NI") /> <!-- Nicaragua -->
                            <MudSelectItem Value=@("NE") /> <!-- Niger -->
                            <MudSelectItem Value=@("NG") /> <!-- Nigeria -->
                            <MudSelectItem Value=@("NU") /> <!-- Niue -->
                            <MudSelectItem Value=@("NF") /> <!-- Norfolk Island -->
                            <MudSelectItem Value=@("MK") /> <!-- North Macedonia -->
                            <MudSelectItem Value=@("MP") /> <!-- Northern Mariana Islands -->
                            <MudSelectItem Value=@("NO") /> <!-- Norway -->
                            <MudSelectItem Value=@("OM") /> <!-- Oman -->
                            <MudSelectItem Value=@("PK") /> <!-- Pakistan -->
                            <MudSelectItem Value=@("PW") /> <!-- Palau -->
                            <MudSelectItem Value=@("PS") /> <!-- Palestine, State of -->
                            <MudSelectItem Value=@("PA") /> <!-- Panama -->
                            <MudSelectItem Value=@("PG") /> <!-- Papua New Guinea -->
                            <MudSelectItem Value=@("PY") /> <!-- Paraguay -->
                            <MudSelectItem Value=@("PE") /> <!-- Peru -->
                            <MudSelectItem Value=@("PH") /> <!-- Philippines -->
                            <MudSelectItem Value=@("PN") /> <!-- Pitcairn -->
                            <MudSelectItem Value=@("PL") /> <!-- Poland -->
                            <MudSelectItem Value=@("PT") /> <!-- Portugal -->
                            <MudSelectItem Value=@("PR") /> <!-- Puerto Rico -->
                            <MudSelectItem Value=@("QA") /> <!-- Qatar -->
                            <MudSelectItem Value=@("RE") /> <!-- Réunion -->
                            <MudSelectItem Value=@("RO") /> <!-- Romania -->
                            <MudSelectItem Value=@("RU") /> <!-- Russian Federation -->
                            <MudSelectItem Value=@("RW") /> <!-- Rwanda -->
                            <MudSelectItem Value=@("BL") /> <!-- Saint Barthélemy -->
                            <MudSelectItem Value=@("SH") /> <!-- Saint Helena, Ascension and Tristan da Cunha -->
                            <MudSelectItem Value=@("KN") /> <!-- Saint Kitts and Nevis -->
                            <MudSelectItem Value=@("LC") /> <!-- Saint Lucia -->
                            <MudSelectItem Value=@("MF") /> <!-- Saint Martin (French part) -->
                            <MudSelectItem Value=@("PM") /> <!-- Saint Pierre and Miquelon -->
                            <MudSelectItem Value=@("VC") /> <!-- Saint Vincent and the Grenadines -->
                            <MudSelectItem Value=@("WS") /> <!-- Samoa -->
                            <MudSelectItem Value=@("SM") /> <!-- San Marino -->
                            <MudSelectItem Value=@("ST") /> <!-- Sao Tome and Principe -->
                            <MudSelectItem Value=@("SA") /> <!-- Saudi Arabia -->
                            <MudSelectItem Value=@("SN") /> <!-- Senegal -->
                            <MudSelectItem Value=@("RS") /> <!-- Serbia -->
                            <MudSelectItem Value=@("SC") /> <!-- Seychelles -->
                            <MudSelectItem Value=@("SL") /> <!-- Sierra Leone -->
                            <MudSelectItem Value=@("SG") /> <!-- Singapore -->
                            <MudSelectItem Value=@("SX") /> <!-- Sint Maarten (Dutch part) -->
                            <MudSelectItem Value=@("SK") /> <!-- Slovakia -->
                            <MudSelectItem Value=@("SI") /> <!-- Slovenia -->
                            <MudSelectItem Value=@("SB") /> <!-- Solomon Islands -->
                            <MudSelectItem Value=@("SO") /> <!-- Somalia -->
                            <MudSelectItem Value=@("ZA") /> <!-- South Africa -->
                            <MudSelectItem Value=@("GS") /> <!-- South Georgia and the South Sandwich Islands -->
                            <MudSelectItem Value=@("SS") /> <!-- South Sudan -->
                            <MudSelectItem Value=@("ES") /> <!-- Spain -->
                            <MudSelectItem Value=@("LK") /> <!-- Sri Lanka -->
                            <MudSelectItem Value=@("SD") /> <!-- Sudan -->
                            <MudSelectItem Value=@("SR") /> <!-- Suriname -->
                            <MudSelectItem Value=@("SJ") /> <!-- Svalbard and Jan Mayen -->
                            <MudSelectItem Value=@("SE") /> <!-- Sweden -->
                            <MudSelectItem Value=@("CH") /> <!-- Switzerland -->
                            <MudSelectItem Value=@("SY") /> <!-- Syrian Arab Republic -->
                            <MudSelectItem Value=@("TW") /> <!-- Taiwan, Province of China -->
                            <MudSelectItem Value=@("TJ") /> <!-- Tajikistan -->
                            <MudSelectItem Value=@("TZ") /> <!-- Tanzania, United Republic of -->
                            <MudSelectItem Value=@("TH") /> <!-- Thailand -->
                            <MudSelectItem Value=@("TL") /> <!-- Timor-Leste -->
                            <MudSelectItem Value=@("TG") /> <!-- Togo -->
                            <MudSelectItem Value=@("TK") /> <!-- Tokelau -->
                            <MudSelectItem Value=@("TO") /> <!-- Tonga -->
                            <MudSelectItem Value=@("TT") /> <!-- Trinidad and Tobago -->
                            <MudSelectItem Value=@("TN") /> <!-- Tunisia -->
                            <MudSelectItem Value=@("TR") /> <!-- Turkey -->
                            <MudSelectItem Value=@("TM") /> <!-- Turkmenistan -->
                            <MudSelectItem Value=@("TC") /> <!-- Turks and Caicos Islands -->
                            <MudSelectItem Value=@("TV") /> <!-- Tuvalu -->
                            <MudSelectItem Value=@("UG") /> <!-- Uganda -->
                            <MudSelectItem Value=@("UA") /> <!-- Ukraine -->
                            <MudSelectItem Value=@("AE") /> <!-- United Arab Emirates -->
                            <MudSelectItem Value=@("GB") /> <!-- United Kingdom of Great Britain and Northern Ireland -->
                            <MudSelectItem Value=@("UM") /> <!-- United States Minor Outlying Islands -->
                            <MudSelectItem Value=@("US") /> <!-- United States of America -->
                            <MudSelectItem Value=@("UY") /> <!-- Uruguay -->
                            <MudSelectItem Value=@("UZ") /> <!-- Uzbekistan -->
                            <MudSelectItem Value=@("VU") /> <!-- Vanuatu -->
                            <MudSelectItem Value=@("VE") /> <!-- Venezuela (Bolivarian Republic of) -->
                            <MudSelectItem Value=@("VN") /> <!-- Viet Nam -->
                            <MudSelectItem Value=@("VG") /> <!-- Virgin Islands (British) -->
                            <MudSelectItem Value=@("VI") /> <!-- Virgin Islands (U.S.) -->
                            <MudSelectItem Value=@("WF") /> <!-- Wallis and Futuna -->
                            <MudSelectItem Value=@("EH") /> <!-- Western Sahara -->
                            <MudSelectItem Value=@("YE") /> <!-- Yemen -->
                        </MudSelect>
                    </MudExpansionPanel>
                </MudExpansionPanels>
            </MudCardContent>

            <MudCardActions>
                <MudButton ButtonType="ButtonType.Submit" Color="Color.Primary">Download Configuration</MudButton>
                <MudButton Color="Color.Secondary" OnClick="DownloadHost">Download Host</MudButton>
            </MudCardActions>
        </EditForm>
    </DialogContent>
</MudDialog>
