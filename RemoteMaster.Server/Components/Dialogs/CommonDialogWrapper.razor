@using System.Collections.Concurrent
@using Microsoft.AspNetCore.SignalR.Client
@using RemoteMaster.Shared.Models
@using Microsoft.AspNetCore.Components

@typeparam TDialog where TDialog : ComponentBase

<CascadingValue Value="Hosts">
    <CascadingValue Value="HubPath">
        <CascadingValue Value="StartConnection">
            <CascadingValue Value="RequireConnections">
                <DynamicComponent Type="typeof(TDialog)" Parameters="null" />
            </CascadingValue>
        </CascadingValue>
    </CascadingValue>
</CascadingValue>

@code {
    [Parameter] public ConcurrentDictionary<Computer, HubConnection?> Hosts { get; set; } = default!;
    [Parameter] public string HubPath { get; set; } = default!;
    [Parameter] public bool StartConnection { get; set; } = default!;
    [Parameter] public bool RequireConnections { get; set; } = default!;
}
