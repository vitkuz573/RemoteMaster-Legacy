@page "/{Host}/connection"
@rendermode InteractiveServer

<MudThemeProvider />
<MudDialogProvider />
<MudSnackbarProvider />

<PageTitle>@Host</PageTitle>

<MudLayout>
    <MudAppBar Elevation="1">
        <MudText Typo="Typo.subtitle1">Connection to @Host with host version 1.0.0</MudText>
        <MudSpacer />
        <MudIconButton Icon="@Icons.Material.Filled.Menu" Color="Color.Inherit" Edge="Edge.Start" OnClick="@DrawerToggle" />
    </MudAppBar>

    <MudDrawer @bind-Open="@_drawerOpen" Width="250px" Anchor="Anchor.Right" Elevation="1" Variant="@DrawerVariant.Responsive">
        <MudDrawerHeader>
            <MudText Typo="Typo.h6">RemoteMaster</MudText>
        </MudDrawerHeader>

        <MudNavMenu>
            <MudNavLink Match="NavLinkMatch.All">
                <MudSelect T="string" Label="Display" AnchorOrigin="Origin.BottomCenter"></MudSelect>
            </MudNavLink>

            <MudNavLink Match="NavLinkMatch.All">
                <MudSlider T="int" Min="0" Max="100">Image Quality</MudSlider>
            </MudNavLink>

            <MudNavLink Match="NavLinkMatch.All">
                <MudSwitch T="bool" Label="Cursor Tracking" />
            </MudNavLink>

            <MudNavLink Match="NavLinkMatch.All">
                <MudSwitch T="bool" Label="Input Toggle" />
            </MudNavLink>

            <MudNavLink Match="NavLinkMatch.All" Icon="@Icons.Material.Filled.DeleteSweep" OnClick="KillHost">Kill Host</MudNavLink>
            <MudNavLink Match="NavLinkMatch.All" Icon="@Icons.Material.Filled.ControlPoint" OnClick="SendCtrlAltDel">Send Ctrl+Alt+Del</MudNavLink>
            <MudNavLink Match="NavLinkMatch.All" Icon="@Icons.Material.Filled.History" OnClick="RebootComputer">Reboot Computer</MudNavLink>
            <MudNavLink Match="NavLinkMatch.All" Icon="@Icons.Material.Filled.PowerOff" OnClick="ShutdownComputer">Shutdown Computer</MudNavLink>

            <MudNavLink Match="NavLinkMatch.All">
                <MudText>Host Version: 1.0.0</MudText>
            </MudNavLink>
        </MudNavMenu>
    </MudDrawer>

    <MudMainContent>
        <MudImage Src="https://placehold.co/500x300?text=screen%20image%20placeholder" Class="screenImage" draggable="false" />
    </MudMainContent>
</MudLayout>

<style>
    body {
        user-select: none;
    }

    .mud-main-content {
        height: calc(100vh - 6px);
    }

    .screenImage {
        box-sizing: border-box;
        width: 100%;
        height: 100%;
        object-fit: cover;
        padding: 20px;
    }
</style>