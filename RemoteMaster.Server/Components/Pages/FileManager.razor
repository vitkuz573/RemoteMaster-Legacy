@page "/{Host}/filemanager"
@rendermode InteractiveServer
@attribute [Authorize]
@using Microsoft.AspNetCore.Authorization
@inject NavigationManager NavigationManager

<MudThemeProvider @bind-IsDarkMode="@_isDarkMode" Theme="_theme" />
<MudDialogProvider />
<MudSnackbarProvider />

<MudLayout>
    <MudMainContent>
        <MudTextField @bind-Value="@_currentPath" Label="Path" AdornmentIcon="@Icons.Material.Filled.Folder" Class="mb-2" />
        <MudButton OnClick="@NavigateToPath" Color="Color.Primary" Variant="Variant.Filled">Navigate</MudButton>
        <MudList Dense="true">
            @foreach (var file in _files)
            {
                <MudListItem @onclick="@(() => DownloadFile(file))" Class="my-1">
                    <MudIcon Icon="@Icons.Material.Filled.InsertDriveFile" Class="mr-2" />
                    @file
                </MudListItem>
            }
        </MudList>
    </MudMainContent>
</MudLayout>
