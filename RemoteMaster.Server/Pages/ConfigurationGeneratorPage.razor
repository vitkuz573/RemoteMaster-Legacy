@page "/config-generator"

<RadzenCard>
    <RadzenHeading Size="H3" Text="Configuration Generator"></RadzenHeading>

    <div style="margin: 20px 0;">
        <RadzenLabel Text="Computer Group:" style="display: block; margin-bottom: 10px;"></RadzenLabel>
        <RadzenTextBox @bind-Value="_group" Width="100%"></RadzenTextBox>
    </div>

    <div style="margin: 20px 0;">
        <RadzenButton Text="Generate Config" Click="@GenerateConfig"></RadzenButton>
    </div>

    @if (_isConfigGenerated)
    {
        <div style="margin: 20px 0;">
            <!-- Download link button -->
            <RadzenButton Text="Download Config" Click="@DownloadConfig" Style="margin-right: 10px;"></RadzenButton>

            <!-- Spoiler to toggle content visibility -->
            <RadzenButton Text="@(_isSpoilerVisible ? "Hide Content" : "Show Content")" Click="@ToggleSpoiler"></RadzenButton>
        </div>

        <div style="display: @(_isSpoilerVisible ? "block" : "none"); margin: 20px 0;">
            <textarea readonly style="width: 100%; height: 100px;">@GetConfigContent()</textarea>
        </div>
    }
</RadzenCard>
